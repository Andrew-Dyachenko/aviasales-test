(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(63),i=n(7),o=(n(77),n(23)),s=n(24),l=n(27),u=n(25),d=n(28),_=n(64),E=n(65),h=n.n(E),f=(n(140),n(141),function(e){var t=e.children,n=e.logo,r=e.mixin,c=r?"header ".concat(r):"header";return a.a.createElement("header",{className:c},a.a.createElement("a",{href:"https://www.aviasales.ru/",className:"header__logo"},a.a.createElement("img",{src:n,className:"header__logo-img",alt:"Logo"})),t?a.a.createElement("div",{className:"header__content"},t):null)});f.defaultProps={children:null,logo:"",mixin:""};var m=f,p=n(66),v=n.n(p),C=(n(142),n(143),function(e){var t=e.children;return a.a.createElement("div",{className:"filter"},Array.isArray(t)?t.map((function(e,t){return a.a.createElement("div",{key:t,className:"filter__child"},e)})):a.a.createElement("div",{className:"filter__child"},t))});C.defaultProps={children:null};var R=C,g=(n(144),function(e){var t=e.children;return Array.isArray(t)?t.map((function(e,t){return a.a.createElement("div",{key:t,className:"modificator__children"},e)})):a.a.createElement("div",{className:"modificator__children"},t)});g.defaultProps={children:null};var T=g,S=n(2),O=(n(145),n(26)),N=n.n(O),y=(n(146),function(e){var t=e.children;return a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"loader__text"},t))});y.defaultProps={children:"Loading"};var b=y,F=function(e){var t=e.filters,n=e.stops,r=e.title,c=e.mixin,i=e.fetching,o=e.onAllStops,s=e.onStop,l=e.onOnly,u=[1/0].concat(Object(S.a)(n)),d=n.length,_=c?"stop-list ".concat(c):"stop-list";return a.a.createElement("form",{className:_},r?a.a.createElement("h4",{className:"stop-list__title"},r):null,i?a.a.createElement(b,null):d?a.a.createElement("div",{className:"stop-list__container"},u.map((function(e,r){var c=isFinite(e)?N()(e,"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a","%d \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430","%d \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438","%d \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"):"\u0412\u0441\u0435";return a.a.createElement("div",{key:r,className:"stop-list__item"},r?a.a.createElement("button",{type:"button",className:"stop-list__only","data-stops":r-1,onClick:l},"\u0422\u043e\u043b\u044c\u043a\u043e"):null,a.a.createElement("label",{htmlFor:"stop-list__input_".concat(r),key:r,className:"stop-list__label"},a.a.createElement("div",{className:"stop-list__wrapper"},a.a.createElement("input",{className:"stop-list__input",type:"checkbox",id:"stop-list__input_".concat(r),onChange:r?s:o,value:e,checked:r?-1!==t.indexOf(e):t.length===n.length}),a.a.createElement("div",{className:"stop-list__face-wrapper"},a.a.createElement("div",{className:"stop-list__face"})),a.a.createElement("div",{className:"stop-list__text"},c))))}))):null)};F.defaultProps={filters:[],stops:[],title:"",mixin:"",fetching:!1,onStop:function(e){return e},onOnly:function(e){return e},onAllStops:function(e){return e}};var k=F,I=(n(147),function(e){var t=e.buttons,n=e.name,r=e.title,c=e.onCheck,i=t.length;return a.a.createElement("div",{className:"buttons-group"},r?a.a.createElement("h4",{className:"buttons-group__title"},r):null,i?a.a.createElement("div",{className:"buttons-group__container"},t.map((function(e,t){var r=e.text,i=e.defaultChecked,o=e.disabled;return a.a.createElement("div",{key:t,className:"buttons-group__item"},a.a.createElement("input",{className:"buttons-group__input",value:r,type:"radio",name:n,id:"buttons-group__input_".concat(t),onChange:c,defaultChecked:i,disabled:o}),a.a.createElement("label",{htmlFor:"buttons-group__input_".concat(t),className:"buttons-group__label"},a.a.createElement("span",{className:"buttons-group__text"},r),a.a.createElement("div",{className:"buttons-group__state"})))}))):null)});I.defaultProps={buttons:[],name:"radio-group",title:"",fetching:!1,onCheck:function(e){return e}};var w=I,U=(n(148),n(149),function(e){var t=function(e){switch(e){case"USD":return"$";case"EUR":return"\u20ac";default:return"\u20bd"}}(e.currency);return a.a.createElement(r.Fragment,null,t)});U.defaultProps={currency:"RUB"};var Y=U,A=n(46),L=n.n(A),D=(n(151),n(47)),x=n.n(D),j=function(e){return e?e.replace(/(\u043f\u043d|\u0432\u0442|\u0441\u0440|\u0447\u0442|\u043f\u0442|\u0441\u0431|\u0432\u0441)$/gi,(function(e){return e.toLowerCase().charAt(0).toUpperCase()+e.slice(1)})):e},M=n(1),P=n(19),H=function(e){function t(e){var n,r=e.height,c=void 0===r?13:r,i=e.width,s=void 0===i?156:i,d=e.adaptive,_=void 0===d||d,E=e.autoRepeat,h=void 0===E||E,f=e.workType,m=void 0===f?10:f,p=e.delayOnRepeat,v=void 0===p?300:p,C=e.colors,R=void 0===C?{}:C,g=e.speedExhaustCloud,T=void 0===g?27:g,S=e.lengthExhaustCloud,O=void 0===S?100:S,N=e.planeScaleOnGroundKof,y=void 0===N?1:N,b=e.apexDot1,F=void 0===b?10:b,k=e.apexDot2,I=void 0===k?10:k,w=e.speedFlight,U=void 0===w?.25:w,Y=e.runWayK,A=void 0===Y?0:Y,L=e.runwayType,D=void 0===L?0:L,x=e.fireJetFlag,j=void 0!==x&&x;Object(o.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this)),R.plumeeExColors=R.plumeeExColors||[{level:1,color:"#d2d5d6"},{level:0,color:"#d2d5d6"}],R.plumeeInColors=R.plumeeInColors||[{level:1,color:"#a8abac"},{level:0,color:"#a8abac"}],R.planeColor=R.planeColor||"#d2d5d6",R.cloudColor=R.cloudColor||"#dbdedf",R.backgroundColor=R.backgroundColor||"#ffffff",R.runwayColor=R.runwayColor||"#d2d5d6";var M=v;return n.state={height:c,width:s,progress:0,adaptive:_,autoRepeat:h,workType:m,residueDelOnRpt:M,delayOnRepeat:v,colors:R,speedExhaustCloud:T,lengthExhaustCloud:O,runwayType:D,planeScaleOnGroundKof:y,apexDot1:F,apexDot2:I,speedFlight:U,fireJetFlag:j,runWayK:A},n.updateAnimationState=n.updateAnimationState.bind(Object(P.a)(Object(P.a)(n))),n.canvasRef=a.a.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"updateAnimationState",value:function(){var e=this.canvasRef.current,t=B(e),n=this.state,r=n.progress,a=n.adaptive,c=n.autoRepeat,i=n.workType,o=n.delayOnRepeat,s=n.residueDelOnRpt,l=n.colors,u=n.items,d=n.speedExhaustCloud,_=n.runwayType,E=n.planeScaleOnGroundKof,h=n.apexDot1,f=n.apexDot2,m=n.speedFlight,p=n.fireJetFlag,v=n.runWayK,C=e.width-17;a&&this.resizeToParentSize(e);var R=.9*e.height,g=1.2*R;r=ce(e,r,i,g);var T=oe(e,r,h,f,E).planeScale,S=r<e.width-g;W(e),G(e,l),(r<t(v)||r+g>t(100-v))&&te(e,r,v,l,_),u=q(e,u,S,r,d,C,l),S&&p&&J(e,r,l,R),z(e,T,r,l.planeColor);var O=ie(e,i,g);r=r>=O?r:r+m*e.width/100,c&&r>=e.width-g&&(s--,l.planeColor=ae(l.planeColor,s/o),l.runwayColor=ae(l.runwayColor,s/o),s<1&&(s=o,r=0,l.planeColor=l.planeColor.substring(0,7),l.runwayColor=l.runwayColor.substring(0,7))),this.setState((function(e){return Object(M.a)({},e,{progress:r,residueDelOnRpt:s,colors:l,items:u})})),this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"resizeToParentSize",value:function(e){var t=e.parentNode,n=t.offsetWidth,r=t.offsetHeight;e.width=n,e.height=r}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rAF)}},{key:"render",value:function(){return a.a.createElement("canvas",{ref:this.canvasRef,width:this.state.width,height:this.state.height})}}]),t}(r.PureComponent),B=function(e){return function(t){return t*=e.width/100}},K=function(e){return function(t){return t*=e.height/100}},W=function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getContext("2d");n.fillStyle=t.backgroundColor,n.fillRect(0,0,e.width,e.height)},z=function(e,t,n,r){var a=e.getContext("2d"),c=K(e),i=new Path2D("M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"),o=new Path2D,s=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix().scale(t);o.addPath(i,s),a.save(),a.translate(n,c(50)-t*se.planeHeight/2),a.fillStyle=r,a.fill(o),a.restore()},J=function(e,t,n,r){var a=.5,c=.12*r,i=c/a,o=$(e,n.plumeeExColors,-i/2,i/2);V(e,t,a,c,o),i=(c=.06*r)/(a=2/7),o=$(e,n.plumeeInColors,-i/2,i/2),V(e,t,a,c,o)},V=function(e,t,n,r,a){var c=e.getContext("2d"),i=K(e),o=r/n;c.save(),c.beginPath(),c.translate(t-o/2,i(50)-r/10),c.scale(1,n),c.arc(0,0,o,0,2*Math.PI,!0),c.fillStyle=a,c.closePath(),c.fill(),c.restore()},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=e.getContext("2d"),c=a.createLinearGradient(n,0,r,0);return t.forEach((function(e){c.addColorStop(e.level,e.color)})),c},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,o=K(e),s=r,l=o(50);return t=X(e,t,n,s,l,a,c,i.cloudColor),Q(e,t),t},Q=function(e,t){t.forEach((function(t){ee(e,t)}))},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0,s=K(e),l=1,u=60*i/c,d=t.length,_=d+l,E=re(0,10*l),h=n?c:0,f=s(15),m=s(6);if(n)for(var p=d;p<=_;p++)t[p]=Z({x:r,y:a,radius:m,color:o},h,0);return _>u&&(t=t.slice(l+E,t.length)),n||(t=t.slice(2*l,t.length)),t.map((function(e,t,r){var a=(t-l)/r.length,c=t>=.9*r.length&&n?0:f*a;return e.color=ae(e.color,a-.05),Z(e,h,c)})),t},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.x=e.x||5,e.y=e.y||5,e.radius=e.radius||4,e.color=e.color||"#999999",t/=25,n/=100,e.x+=-t,e.y+=re(-n-1,n),e},ee=function(e,t){var n=e.getContext("2d");n.beginPath(),n.arc(t.x,t.y,t.radius<0?0:t.radius,0,2*Math.PI,!1),n.fillStyle=t.color,n.fill()},te=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,c=B(e),i=.9*e.height*1.2,o=t+i-c(100-n),s=o/c(n),l=t<c(n)?-c(100)*t/c(n):t+i-1>c(100-n)?c(100)*(1-s):c(100);l>c(100)||l<-c(100)||ne(e,l,r.runwayColor,a)},ne=function(e,t,n,r){var a=e.getContext("2d"),c=B(e),i=K(e),o=i(5),s=c(3)>7?c(5):7;switch(r){case 0:a.save(),a.translate(t,0),a.lineWidth=o,a.strokeStyle=n,a.setLineDash([s,s]),a.beginPath(),a.moveTo(0,i(50)),a.lineTo(c(100),i(50)),a.stroke(),a.restore();break;default:case 1:a.save(),a.translate(t,0),a.lineWidth=o,a.strokeStyle=n,a.setLineDash([s,s]),a.beginPath(),a.moveTo(0,i(30)),a.lineTo(c(100),i(30)),a.moveTo(0,i(70)),a.lineTo(c(100),i(70)),a.stroke(),a.restore()}},re=function(e,t){return~~(Math.random()*(t-e+1)+e)},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=t<0?0:t;var n=Math.round(255*t).toString(16);return n=""+n.length>1?n:"0"+n,e=e.substring(0,7)+n},ce=function(e,t,n){var r=1.2*(.9*e.height);switch(n){case se.wtFlyFromAToB:case se.wtForeverFlyFromA:break;case se.wtForeverFly:default:t=.99*e.width-r}return t},ie=function(e,t,n){var r;switch(t){case se.wtFlyFromAToB:r=e.width-n;break;case se.wtForeverFlyFromA:r=.66*e.width-n;break;case se.wtForeverFly:default:r=.99*e.width-n}return r},oe=function(e,t,n,r,a){var c=B(e),i=.9*e.height*1.2,o=e.height/se.planeHeight*.9,s=o*a,l=t<c(se.plnOnGndTime)||t+i>c(100-se.plnOnGndTime),u=t<c(n),d=t+i>c(100-r),_=s+(o-s)*(t-c(se.plnOnGndTime))/c(n-se.plnOnGndTime),E=o-(o-s)*(t+i-c(100-r))/c(r-se.plnOnGndTime);return{planeScale:l?s:u?_:d?E:o}},se={wtForeverFly:10,wtForeverFlyFromA:11,wtFlyFromAToB:20,planeHeight:512,plnOnGndTime:3},le=function(e){var t=e.mixin,n=e.price,r=e.currency,c=e.currencies,i=e.departure_time,o=e.arrival_time,s=e.stops,l=e.origin,u=e.origin_name,d=e.destination,_=e.destination_name,E=e.arrival_date,h=e.departure_date,f=c.rates,m=isFinite(s)?N()(s,"","%d \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","%d \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438","%d \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a"):"",p=0;return p=(p="RUB"===r?n:"EUR"===r?n/(f.RUB?f.RUB:1):n/(f.RUB?f.RUB:1)*f[r]).toFixed(2),a.a.createElement("div",{className:t?"".concat(t," ticket"):"ticket"},a.a.createElement("div",{className:"ticket__col ticket__col--action"},a.a.createElement("div",{className:"ticket__media"},a.a.createElement("img",{src:x.a,className:"ticket__media-img",width:"120",height:"35",alt:"Ticket logo"})),a.a.createElement("button",{type:"button",className:"ticket__buy"},a.a.createElement("div",{className:"ticket__buy-text"},"\u041a\u0443\u043f\u0438\u0442\u044c"),a.a.createElement("div",{className:"ticket__price"},a.a.createElement("div",{className:"ticket__price-inner"},a.a.createElement("div",{className:"ticket__price-currency"},a.a.createElement(Y,{currency:r})),a.a.createElement("div",{className:"ticket__price-value"},"\u0437\u0430 ",p))))),a.a.createElement("div",{className:"ticket__col ticket__col--content"},a.a.createElement("div",{className:"ticket__media"},a.a.createElement("img",{src:x.a,className:"ticket__media-img",width:"120",height:"35",alt:"Ticket logo"})),a.a.createElement("div",{className:"ticket__segment"},a.a.createElement("div",{className:"ticket__route ticket__route--head"},a.a.createElement("div",{className:"ticket__origin"},a.a.createElement("div",{className:"ticket__time"},i)),a.a.createElement("div",{className:"ticket__path"},a.a.createElement("div",{className:"ticket__path-stops"},m),a.a.createElement("div",{className:"ticket__path-canvas"},a.a.createElement(H,{planeScaleOnGroundKof:1}))),a.a.createElement("div",{className:"ticket__destination"},a.a.createElement("div",{className:"ticket__time"},o))),a.a.createElement("div",{className:"ticket__route ticket__route--body"},a.a.createElement("div",{className:"ticket__origin"},a.a.createElement("div",{className:"ticket__location"},l,", ",u),a.a.createElement("div",{className:"ticket__date"},a.a.createElement(L.a,{parse:"DD.MM.YY",format:"D MMM YYYY, ddd",locale:"ru",filter:j},h))),a.a.createElement("div",{className:"ticket__destination"},a.a.createElement("div",{className:"ticket__location"},_,", ",d),a.a.createElement("div",{className:"ticket__date"},a.a.createElement(L.a,{parse:"DD.MM.YY",format:"D MMM YYYY, ddd",locale:"ru",filter:j},E)))))))};le.defaultProps={mixin:"",price:0,currency:"RUB",currencies:{RUB:1},departure_time:"",arrival_time:"",stops:0,origin:"",origin_name:"",destination:"",destination_name:"",arrival_date:"",departure_date:""};var ue=le,de=function(e){var t=e.mixin,n=e.currencies,r=e.filters,c=e.modificators,i=e.tickets,o=e.dimensions,s=i.list,l=i.fetch.fetching,u=i.fetch.error,d=c.currencies.currency,_=r.stops;return a.a.createElement("div",{className:t?"tickets-list ".concat(t):"tickets-list"},u?a.a.createElement("span",null,"Fetch data error!"):l?a.a.createElement(b,null,"Loading"):s?s.filter((function(e){return-1!==_.indexOf(e.stops)})).sort((function(e,t){return e.price-t.price})).map((function(e,t){return a.a.createElement(ue,Object.assign({},e,{key:t,mixin:"App__ticket",currency:d,currencies:n,dimensions:o}))})):null)};de.defaultProps={mixin:"",currencies:{},filters:{},modificators:{},tickets:{},dimensions:{}};var _e=de,Ee={FETCH_TICKETS_START:"FETCH_TICKETS_START",FETCH_TICKETS_SUCCESS:"FETCH_TICKETS_SUCCESS",FETCH_TICKETS_ERROR:"FETCH_TICKETS_ERROR",SET_TICKETS:"SET_TICKETS",FILTER_BY_DEFAULT_STOPS:"FILTER_BY_DEFAULT_STOPS",FILTER_BY_STOPS:"FILTER_BY_STOPS",FILTER_BY_ONLY_STOPS:"FILTER_BY_ONLY_STOPS",FILTER_BY_ALL_STOPS:"FILTER_BY_ALL_STOPS",FETCH_CURRENCY_START:"FETCH_CURRENCY_START",FETCH_CURRENCY_SUCCESS:"FETCH_CURRENCY_SUCCESS",FETCH_CURRENCY_ERROR:"FETCH_CURRENCY_ERROR",SET_DEFAULT_CURRENCY:"SET_DEFAULT_CURRENCY",SET_BASE_CURRENCY:"SET_BASE_CURRENCY",SET_CURRENCY_RATES:"SET_CURRENCY_RATES",SET_CURRENCY_MODIFIERS:"SET_CURRENCY_MODIFIERS",SET_CURRENCY_MODIFIER:"SET_CURRENCY_MODIFIER",ADD_CURRENCY_MODIFIER:"ADD_CURRENCY_MODIFIER",REMOVE_CURRENCY_MODIFIER:"REMOVE_CURRENCY_MODIFIER",SET_SCROLL_DIAMENTIONS:"SET_SCROLL_DIAMENTIONS"},he=function(e){return{type:Ee.SET_SCROLL_DIAMENTIONS,dimensions:e}},fe=Object(i.b)((function(e){return{filters:e.filters.stops,stops:e.tickets.stops,fetching:e.tickets.fetch.fetching}}),(function(e){return{onStop:function(t){var n=t.target,r=Number(n.value),a=n.checked;e(function(e,t){return{type:Ee.FILTER_BY_STOPS,stops:e,checked:t}}(r,a))},onOnly:function(t){var n=t.target.dataset,r=Number(n.stops);e(function(e){return{type:Ee.FILTER_BY_ONLY_STOPS,stops:e}}(r))},onAllStops:function(t){var n=t.target.checked,r=window.store.getState().tickets.stops;e(function(e,t){return{type:Ee.FILTER_BY_ALL_STOPS,stops:e,checked:t}}(r,n))}}}))(k),me=Object(i.b)((function(e){return{buttons:e.modificators.currencies.list.map((function(t){var n=t,r=t===e.currencies.base;return{text:n,defaultChecked:t===e.modificators.currencies.currency,disabled:!r&&!(!e.currencies.fetch.fetching&&!e.currencies.fetch.error&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).some((function(e,n,r){return-1!==r.indexOf(t)}))}(e.currencies.rates,t))}})),fetching:e.currencies.fetch.fetching}}),(function(e){return{onCheck:function(t){var n=t.target.value;e({type:Ee.SET_CURRENCY_MODIFIER,currency:n})}}}))(w),pe=Object(i.b)((function(e){return{currencies:e.currencies,filters:e.filters,modificators:e.modificators,tickets:e.tickets,dimensions:e.dimensions}}),null)(_e),ve=function(e){var t=e.mixin;return a.a.createElement("div",{className:t?"".concat(t," tickets"):"tickets"},a.a.createElement("aside",{className:"aside tickets__aside"},a.a.createElement("div",{className:"aside__item"},a.a.createElement(T,null,a.a.createElement(me,{name:"currency-radio-group",title:"\u0412\u0410\u041b\u042e\u0422\u0410"}))),a.a.createElement("div",{className:"aside__item aside__item--no-padding"},a.a.createElement(R,null,a.a.createElement(fe,{mixin:"filter__stop-list",title:"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a"})))),a.a.createElement("main",{className:"tickets__main"},a.a.createElement(pe,{mixin:"tickets__list"})))};ve.defaultProps={mixin:""};var Ce=ve,Re=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage["aviasales-store"];e&&JSON.parse(e).tickets.fetch.fetched||this.props.fetchTickets("./tickets.json"),e&&JSON.parse(e).currencies.fetch.fetched||this.props.fetchCurrency("./exchange-rates-fallback.json")}},{key:"render",value:function(){var e=this.props.dimensions.scroll.scrollbarWidth;return a.a.createElement("div",{className:"App root__App"},a.a.createElement(_.Helmet,null,a.a.createElement("html",{lang:"ru"}),a.a.createElement("title",null,"Aviasales"),a.a.createElement("style",null,"\n\t\t\t\t\t\t\t:root {\n\t\t\t\t\t\t\t\t--scroll-width: ".concat(e,"px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t"))),a.a.createElement(h.a,{onLoad:this.props.scrollbarSizeLoad,onChange:this.props.scrollbarSizeChange}),a.a.createElement("div",{className:"container App__container"},a.a.createElement(m,{logo:v.a,mixin:"App__header"}),a.a.createElement(Ce,{mixin:"App__tickets"})))}}]),t}(r.PureComponent);Re.defaultProps={dimensions:{scroll:{scrollbarHeight:0,scrollbarWidth:0},window:{innerWidth:0}},fetchCurrency:function(e){return e},fetchTickets:function(e){return e},scrollbarSizeLoad:function(e){return e},scrollbarSizeChange:function(e){return e}};var ge,Te=Object(i.b)((function(e){return{dimensions:e.dimensions}}),{fetchCurrency:function(e){return function(t){t({type:Ee.FETCH_CURRENCY_START}),fetch(e).then((function(e){return e.json()})).then((function(e){var n=e.rates;t({type:Ee.FETCH_CURRENCY_SUCCESS}),t(function(e){return{type:Ee.SET_CURRENCY_RATES,rates:e}}(n))})).catch((function(){return t({type:Ee.FETCH_CURRENCY_ERROR})}))}},fetchTickets:function(e){return function(t){t({type:Ee.FETCH_TICKETS_START}),fetch(e).then((function(e){return e.json()})).then((function(e){t({type:Ee.FETCH_TICKETS_SUCCESS}),t(function(e){return{type:Ee.SET_TICKETS,tickets:e}}(e))})).catch((function(){return t({type:Ee.FETCH_TICKETS_ERROR})}))}},scrollbarSizeLoad:function(e){return function(t){return t(he(e))}},scrollbarSizeChange:function(e){return function(t){return t(he(e))}}})(Re),Se=n(4),Oe=n(68),Ne=function(e,t){switch(t){case"ascending":return Object(S.a)(e).sort((function(e,t){return e-t}));case"descending":return Object(S.a)(e).sort((function(e,t){return t-e}));default:return e}},ye=Object(Se.d)((ge="ascending",function(e){return Ne(e,ge)}),(function(e){return e.reduce((function(e,t){var n=t.stops;return-1===e.indexOf(n)?[].concat(Object(S.a)(e),[n]):e}),[])})),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fetching:!1,fetched:!1,error:!1};switch(e.type){case Ee.FETCH_TICKETS_START:return{fetching:!0,fetched:!1,error:!1};case Ee.FETCH_TICKETS_SUCCESS:return{fetching:!1,fetched:!0,error:!1};case Ee.FETCH_TICKETS_ERROR:return{fetching:!1,fetched:!1,error:!0};case Ee.FETCH_CURRENCY_START:return{fetching:!0,fetched:!1,error:!1};case Ee.FETCH_CURRENCY_SUCCESS:return{fetching:!1,fetched:!0,error:!1};case Ee.FETCH_CURRENCY_ERROR:return{fetching:!1,fetched:!1,error:!0};default:return t}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],stops:[],fetch:be()},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ee.FETCH_TICKETS_START:case Ee.FETCH_TICKETS_SUCCESS:case Ee.FETCH_TICKETS_ERROR:return Object(M.a)({},e,{fetch:be(t)});case Ee.SET_TICKETS:return Object(M.a)({},e,{list:t.tickets,stops:ye(t.tickets)});default:return e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.stops;switch(n=Array.isArray(n)?n:[n],e.type){case Ee.FILTER_BY_STOPS:var r=e.checked;return Object(S.a)(n).reduce((function(e,t){return r&&-1===e.indexOf(t)?[].concat(Object(S.a)(e),[t]):e.filter((function(e){return e!==t}))}),t);case Ee.FILTER_BY_DEFAULT_STOPS:return[0,1,2];case Ee.FILTER_BY_ONLY_STOPS:return n;case Ee.FILTER_BY_ALL_STOPS:var a=e.checked;return a?n:[];default:return t}},Ie=Object(Se.d)(function(e){return function(t){return Ne(t,e)}}("ascending"),ke),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ee.FILTER_BY_STOPS:return Object(M.a)({},e,{stops:Ie(t,e.stops)});case Ee.FILTER_BY_DEFAULT_STOPS:return Object(M.a)({},e,{stops:ke(t)});case Ee.FILTER_BY_ONLY_STOPS:return Object(M.a)({},e,{stops:ke(t,e.stops)});case Ee.FILTER_BY_ALL_STOPS:return Object(M.a)({},e,{stops:Ie(t)});default:return e}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RUB";switch(e.type){case Ee.SET_DEFAULT_CURRENCY:return"RUB";case Ee.SET_BASE_CURRENCY:return e.base;default:return t}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case Ee.SET_CURRENCY_RATES:return e.rates;default:return t}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rates:Ye(),base:Ue(),fetch:be()},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ee.FETCH_CURRENCY_START:case Ee.FETCH_CURRENCY_SUCCESS:case Ee.FETCH_CURRENCY_ERROR:return Object(M.a)({},e,{fetch:be(t)});case Ee.SET_DEFAULT_CURRENCY:case Ee.SET_BASE_CURRENCY:return Object(M.a)({},e,{base:Ue(t)});case Ee.SET_CURRENCY_RATES:return Object(M.a)({},e,{rates:Ye(t)});default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue();switch(e.type){case Ee.SET_CURRENCY_MODIFIER:return e.currency;default:return t}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[Ue()];switch(e.type){case Ee.SET_CURRENCY_MODIFIERS:return e.currencies;case Ee.ADD_CURRENCY_MODIFIER:return[].concat(Object(S.a)(t),[e.currency]);case Ee.REMOVE_CURRENCY_MODIFIER:return Object(S.a)(t).filter((function(t){return t!==e.currency}));default:return t}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{list:De(),currency:Le()};switch(e.type){case Ee.SET_CURRENCY_MODIFIERS:case Ee.ADD_CURRENCY_MODIFIER:case Ee.REMOVE_CURRENCY_MODIFIER:return Object(M.a)({},t,{list:De(e,t.list)});case Ee.SET_CURRENCY_MODIFIER:return Object(M.a)({},t,{currency:Le(e,t.currency)});default:return t}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currencies:xe()},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ee.SET_CURRENCY_MODIFIERS:case Ee.ADD_CURRENCY_MODIFIER:case Ee.REMOVE_CURRENCY_MODIFIER:case Ee.SET_CURRENCY_MODIFIER:return Object(M.a)({},e,{currencies:xe(t,e.currencies)});default:return e}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scroll:Pe()},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ee.SET_SCROLL_DIAMENTIONS:return Object(M.a)({},e,{scroll:Pe(t,e.scroll)});default:return e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scrollbarHeight:0,scrollbarWidth:0};switch(e.type){case Ee.SET_SCROLL_DIAMENTIONS:return Object(M.a)({},t,e.dimensions);default:return t}},He=n(67),Be=function(e){return function(t){return function(n){var r=t(n);return localStorage["aviasales-store"]=JSON.stringify(e.getState()),r}}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return Object(Se.a)(Be,Oe.a)(Se.e)(Object(Se.c)({tickets:Fe,currencies:Ae,filters:we,modificators:je,dimensions:Me}),localStorage["aviasales-store"]?JSON.parse(localStorage["aviasales-store"]):e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var We=Ke();window.React=a.a,window.store=We,Object(c.render)(a.a.createElement(i.a,{store:We},a.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,t,n){e.exports=n.p+"static/media/turkish-airlines-logo.213d290e.svg"},66:function(e,t,n){e.exports=n.p+"static/media/logo.9a2b9fa2.png"},67:function(e){e.exports=JSON.parse('{"tickets":{"list":[],"stops":[],"fetch":{"fetching":false,"fetched":false,"error":false}},"filters":{"stops":[0,1,2]},"modificators":{"currencies":{"list":["RUB","USD","EUR"],"currency":"RUB"}},"currencies":{"rates":[],"base":"EUR","fetch":{"fetching":false,"fetched":false,"error":false}},"dimensions":{"scroll":{"scrollbarHeight":0,"scrollbarWidth":0},"window":{"innerWidth":0}}}')},69:function(e,t,n){e.exports=n(152)},77:function(e,t,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.91a15050.chunk.js.map